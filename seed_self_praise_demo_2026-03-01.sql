-- ì²´í—˜ìš© ë°ì´í„° ì‹œë“œ: ìŠ¤ìŠ¤ë¡œë°°ì›€ + ì¹­ì°¬ìš°ì²´í†µ
-- - ì¹œêµ¬ë¡œë°°ì›€(reviews/objectives/tasks/rating_criteria)ì€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ
-- - class_code='ì²´í—˜ìš©' ë²”ìœ„ì—ì„œ ì•„ë˜ 6ê°œ í…Œì´ë¸”ë§Œ ì¬êµ¬ì„±
--   daily_reflections, project_reflections, student_goals,
--   student_personality, teacher_messages, praise_messages
-- - ê¸°ì¤€ì¼: 2026-03-01 (KST)

begin;
set local timezone = 'Asia/Seoul';

-- 0) ì •ë¦¬: ì¹œêµ¬ë¡œë°°ì›€ ì™¸ ë²”ìœ„ë§Œ ì´ˆê¸°í™”
delete from public.teacher_messages where class_code = 'ì²´í—˜ìš©';
delete from public.praise_messages where class_code = 'ì²´í—˜ìš©';
delete from public.project_reflections where class_code = 'ì²´í—˜ìš©';
delete from public.student_goals where class_code = 'ì²´í—˜ìš©';
delete from public.student_personality where class_code = 'ì²´í—˜ìš©';
delete from public.daily_reflections where class_code = 'ì²´í—˜ìš©';

-- 1) ì„±ì¥ íŒŒíŠ¸ë„ˆ(16ëª…): Q1~Q8 ì „ì²´ ì‘ë‹µ + íŒŒìƒ ì»¬ëŸ¼ ì €ì¥
with raw_answers(student_id, q1, q2, q3, q4, q5, q6, q7, q8) as (
  -- student_id, q1, q2, q3, q4, q5, q6, q7, q8
  values
    ('1',  'B','B','B','B','A','A','A','B'), -- ëŒ€í‘œ ì‹œì—°í˜•: ê³µê°í•˜ëŠ” ê³„íšê°€ + í•¨ê»˜ ì„±ì¥í˜•
    ('2',  'A','A','A','A','A','A','A','A'),
    ('3',  'A','A','A','A','B','B','B','B'),
    ('4',  'A','A','B','B','A','A','A','A'),
    ('5',  'A','A','B','B','B','B','B','B'),
    ('6',  'B','B','A','A','A','A','A','A'),
    ('7',  'B','B','A','A','B','B','B','B'),
    ('8',  'B','B','B','B','B','B','B','B'),
    ('9',  'A','A','A','A','A','A','B','B'),
    ('10', 'A','A','A','A','B','B','A','B'),
    ('11', 'A','A','B','B','A','A','B','A'),
    ('12', 'A','A','B','B','B','B','A','A'),
    ('13', 'B','B','A','A','A','A','B','A'),
    ('14', 'B','B','A','A','B','B','A','A'),
    ('15', 'B','B','B','B','A','A','B','B'),
    ('16', 'B','B','B','B','B','B','A','B')
), axes as (
  select
    student_id,
    q1, q2, q3, q4, q5, q6, q7, q8,
    case when q1 = 'A' then 'í•´ê²°í˜•' else 'ì§€ì§€í˜•' end as coaching_style,
    case when q3 = 'A' then 'ë””í…Œì¼í˜•' else 'í°ê·¸ë¦¼í˜•' end as info_processing,
    case when q5 = 'A' then 'ê³„íší˜•' else 'íƒìƒ‰í˜•' end as execution_strategy,
    case when q7 = 'A' then 'í•¨ê»˜í˜•' else 'í˜¼ìí˜•' end as learning_env,
    case when q7 = 'A' then '#í•¨ê»˜ ì„±ì¥í˜•' else '#í˜¼ì ì§‘ì¤‘í˜•' end as support_tag,
    (case when q1 = 'A' then 'í•´ê²°' else 'ì§€ì§€' end) ||
    (case when q3 = 'A' then 'ë””í…Œì¼' else 'í°ê·¸ë¦¼' end) ||
    (case when q5 = 'A' then 'ê³„íš' else 'íƒìƒ‰' end) as partner_type_code
  from raw_answers
), named as (
  select
    student_id, q1, q2, q3, q4, q5, q6, q7, q8,
    coaching_style, info_processing, execution_strategy, learning_env, support_tag, partner_type_code,
    case partner_type_code
      when 'í•´ê²°ë””í…Œì¼ê³„íš' then 'êµ¬ì²´ì ì¸ ê³„íšê°€'
      when 'í•´ê²°ë””í…Œì¼íƒìƒ‰' then 'êµ¬ì²´ì ì¸ ë„ì „ê°€'
      when 'í•´ê²°í°ê·¸ë¦¼ê³„íš' then 'í°ê·¸ë¦¼í˜• ê³„íšê°€'
      when 'í•´ê²°í°ê·¸ë¦¼íƒìƒ‰' then 'í°ê·¸ë¦¼í˜• ë„ì „ê°€'
      when 'ì§€ì§€ë””í…Œì¼ê³„íš' then 'í•¨ê»˜í•˜ëŠ” ê³„íšê°€'
      when 'ì§€ì§€ë””í…Œì¼íƒìƒ‰' then 'í•¨ê»˜í•˜ëŠ” ë„ì „ê°€'
      when 'ì§€ì§€í°ê·¸ë¦¼ê³„íš' then 'ê³µê°í•˜ëŠ” ê³„íšê°€'
      when 'ì§€ì§€í°ê·¸ë¦¼íƒìƒ‰' then 'ê³µê°í•˜ëŠ” ë„ì „ê°€'
      else 'ê³µê°í•˜ëŠ” ë„ì „ê°€'
    end as partner_type_name
  from axes
), allowed_personality as (
  select coalesce(array_agg(v.val), array[]::text[]) as vals
  from (
    select distinct m[1] as val
    from pg_constraint c
    join pg_class t on t.oid = c.conrelid
    join pg_namespace nsp on nsp.oid = t.relnamespace
    cross join lateral regexp_matches(pg_get_constraintdef(c.oid), '''([^'']+)''', 'g') as m
    where nsp.nspname = 'public'
      and t.relname = 'student_personality'
      and c.conname = 'student_personality_personality_type_check'
  ) v
), named_with_personality as (
  select
    n.*,
    coalesce(
      case when array_length(ap.vals, 1) is not null and n.partner_type_name = any(ap.vals) then n.partner_type_name end,
      case when array_length(ap.vals, 1) is not null and n.partner_type_code = any(ap.vals) then n.partner_type_code end,
      case when array_length(ap.vals, 1) is not null then ap.vals[1] end,
      n.partner_type_name
    ) as personality_type_value
  from named n
  cross join allowed_personality ap
)
insert into public.student_personality (
  class_code,
  student_id,
  personality_type,
  question_responses,
  partner_type_code,
  partner_type_name,
  partner_axes,
  partner_version
)
select
  'ì²´í—˜ìš©' as class_code,
  student_id,
  personality_type_value as personality_type,
  jsonb_build_object(
    '1', q1, '2', q2, '3', q3, '4', q4,
    '5', q5, '6', q6, '7', q7, '8', q8
  ) as question_responses,
  partner_type_code,
  partner_type_name,
  jsonb_build_object(
    'coaching_style', coaching_style,
    'info_processing', info_processing,
    'execution_strategy', execution_strategy,
    'learning_env', learning_env,
    'support_tag', support_tag
  ) as partner_axes,
  2 as partner_version
from named_with_personality
on conflict (class_code, student_id) do update
set
  personality_type = excluded.personality_type,
  question_responses = excluded.question_responses,
  partner_type_code = excluded.partner_type_code,
  partner_type_name = excluded.partner_type_name,
  partner_axes = excluded.partner_axes,
  partner_version = excluded.partner_version;

-- 2) ë°°ì›€ë…¸íŠ¸: 1ë²ˆ í•™ìƒ(10ì¼, ëŒ€í‘œ ì‹œì—°í˜•) ìƒì„¸ ë°ì´í„°
insert into public.daily_reflections (
  class_code,
  student_id,
  reflection_date,
  learning_text,
  subject_tags,
  ai_feedback
)
values
(
  'ì²´í—˜ìš©','1',date '2026-02-20',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ìˆ˜í•™ ì‹œê°„ì— ë¶„ìˆ˜ì˜ ë‚˜ëˆ—ì…ˆì„ ê·¸ë¦¼ìœ¼ë¡œ ë°”ê¾¸ì–´ ì˜ë¯¸ë¥¼ ì´í•´í–ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ê³„ì‚° ì „ì— ì‹ì˜ êµ¬ì¡°ë¥¼ ë¨¼ì € ì½ê³ , í‹€ë¦° ë¬¸ì œë¥¼ ë‹¤ì‹œ í’€ì—ˆì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ìì—°ìˆ˜ë¥¼ ë¶„ìˆ˜ë¡œ ë°”ê¿€ ë•Œ ì•½ë¶„ ìˆœì„œë¥¼ ìê¾¸ ë†“ì³¤ì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ì„ ìƒë‹˜ í’€ì´ë¥¼ ë³´ê³  ë¶„ìˆ˜ ë§‰ëŒ€ ê·¸ë¦¼ì„ ê·¸ë¦° ë’¤, ê°™ì€ ë¬¸ì œë¥¼ 2ë²ˆ ë” ì—°ìŠµí–ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ëŒ€ë¶„ìˆ˜ê°€ ì„ì¸ ë¬¸ì œì—ì„œ ì•½ë¶„ íƒ€ì´ë°ì´ í—·ê°ˆë ¤ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ê°„ì‹ ë‚˜ëˆŒ ë•Œ ë¶„ìˆ˜ë¡œ ì–‘ì„ ë‚˜ëˆ ë³´ë©° ê³„ì‚°ì„ í™•ì¸í•´ë³¼ê²Œìš”.',
  array['ìˆ˜í•™']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-21',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ì‚¬íšŒì—ì„œ ê¸°í›„ì— ë”°ë¼ ì˜·ì°¨ë¦¼ê³¼ ì£¼ê±°ê°€ ë‹¬ë¼ì§€ëŠ” ì´ìœ ë¥¼ ì‚¬ë¡€ë¡œ ì •ë¦¬í–ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ë°œí‘œí•  ë•Œ í•µì‹¬ ë‹¨ì–´ë¥¼ ë¨¼ì € ë§í•˜ê³  ì˜ˆì‹œë¥¼ ë¶™ì—¬ ì„¤ëª…í–ˆì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ì§€ì—­ë³„ íŠ¹ì§•ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•  ë•Œ ë§ì´ ê¸¸ì–´ì¡Œì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ì¹ íŒì— í•µì‹¬ì–´ 3ê°œë§Œ ì ì–´ ë‘ê³  ê·¸ ìˆœì„œëŒ€ë¡œ ë°œí‘œí–ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ê¸°í›„ì™€ ì‚°ì—…ì´ ì—°ê²°ë˜ëŠ” ë¶€ë¶„ì„ ë” ë¶„ëª…íˆ ì„¤ëª…í•˜ê³  ì‹¶ì–´ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ë‰´ìŠ¤ì—ì„œ ë‚ ì”¨ì™€ ìƒí™œ ë³€í™”ê°€ ë‚˜ì˜¤ë©´ ì˜¤ëŠ˜ ë°°ìš´ ê¸°ì¤€ìœ¼ë¡œ ë¹„êµí•´ë³¼ê²Œìš”.',
  array['ì‚¬íšŒ','ë°œí‘œ']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-22',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: êµ­ì–´ ì‹œê°„ì— ì„¤ëª…ë¬¸ êµ¬ì¡°ë¥¼ ë„ì…-ì „ê°œ-ì •ë¦¬ë¡œ ë‚˜ëˆ„ì–´ ì½ì—ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ë¬¸ë‹¨ë§ˆë‹¤ ì¤‘ì‹¬ ë¬¸ì¥ì„ í‘œì‹œí•´ì„œ ê¸€ íë¦„ì„ ë¹¨ë¦¬ íŒŒì•…í–ˆì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ì „ê°œ ë¬¸ë‹¨ì˜ ê·¼ê±° ë¬¸ì¥ì„ ê³ ë¥¼ ë•Œ ë¹„ìŠ·í•œ ë¬¸ì¥ì´ ë§ì•„ í˜¼ë™ëì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ì¤‘ì‹¬ ë¬¸ì¥ ì˜†ì— ê·¼ê±° í‘œì‹œ ê¸°í˜¸ë¥¼ ë¶™ì—¬ ë¬¸ì¥ ì—­í• ì„ êµ¬ë¶„í–ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ê¸€ì“´ì´ ì˜ë„ì™€ ì‚¬ì‹¤ ì„¤ëª…ì„ êµ¬ë¶„í•˜ëŠ” ê¸°ì¤€ì´ ì•„ì§ ì•½í•´ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ì½ëŠ” ê¸€ì—ì„œ ì¤‘ì‹¬ ë¬¸ì¥ì„ ë¨¼ì € ì°¾ì•„ë³´ê³  ë‚´ìš©ì„ ì •ë¦¬í•˜ëŠ” ìŠµê´€ì„ ë“¤ì¼ê²Œìš”.',
  array['êµ­ì–´','í† ë¡ ']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-23',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ê³¼í•™ ì‹¤í—˜ì—ì„œ ì¦ë°œ ì†ë„ë¥¼ ë°”ê¾¸ëŠ” ì¡°ê±´ì„ ë¹„êµí–ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ê´€ì°° ì‹œê°„ì„ ì¼ì •í•˜ê²Œ ë§ì¶”ê³  í‘œë¡œ ê¸°ë¡í•´ì„œ ê²°ê³¼ë¥¼ ëª…í™•íˆ ë‚¨ê²¼ì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ê²°ê³¼ í•´ì„ì—ì„œ ì›ì¸ê³¼ ê²°ê³¼ ë¬¸ì¥ì„ ì„ì–´ ë§í–ˆì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ëª¨ë‘  ì¹œêµ¬ì™€ ì—­í• ì„ ë‚˜ëˆ  ê¸°ë¡í‘œë¥¼ ë‹¤ì‹œ ì½ê³  ì›ì¸-ê²°ê³¼ë¥¼ ë”°ë¡œ ì •ë¦¬í–ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ì˜¨ë„ì™€ ë°”ëŒ ì¤‘ ì–´ë–¤ ì¡°ê±´ì´ ë” í° ì˜í–¥ì„ ì£¼ëŠ”ì§€ í™•ì‹ ì´ ë¶€ì¡±í•´ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ë¹¨ë˜ê°€ ë§ˆë¥´ëŠ” ì†ë„ë¥¼ ê´€ì°°í•˜ë©° ì¡°ê±´ ì°¨ì´ë¥¼ ì§ì ‘ í™•ì¸í•´ë³¼ê²Œìš”.',
  array['ê³¼í•™','ëª¨ë‘ í™œë™']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-24',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ì˜ì–´ì—ì„œ ê¸¸ ì•ˆë‚´ í‘œí˜„ì„ ìƒí™© ëŒ€í™”ë¡œ ì—°ìŠµí–ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ì§ í™œë™ì—ì„œ ì§ˆë¬¸ê³¼ ë‹µë³€ ìˆœì„œë¥¼ ì§€ì¼œ ëŠê¸°ì§€ ì•Šê²Œ ë§í–ˆì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ì „ì¹˜ì‚¬ at, on, inì„ ìœ„ì¹˜ ì„¤ëª…ì— ì •í™•íˆ ì“°ëŠ” ê²Œ ì–´ë ¤ì› ì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: êµê³¼ì„œ ì˜ˆë¬¸ì„ ì§€ë„ ê·¸ë¦¼ê³¼ í•¨ê»˜ ì¨ ë³´ë©° ë¬¸ì¥ íŒ¨í„´ì„ ìµí˜”ì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ë°©í–¥ ì „í™˜ í‘œí˜„(turn left/right) ë’¤ ì„¤ëª…ì´ ê¸¸ì–´ì§€ë©´ ë¬¸ì¥ì´ ê¼¬ì—¬ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : í•™êµ ë³µë„ ìœ„ì¹˜ë¥¼ ì˜ì–´ë¡œ ë§í•´ë³´ë©° ì „ì¹˜ì‚¬ ì‚¬ìš©ì„ ìµíê²Œìš”.',
  array['ì˜ì–´']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-25',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ìˆ˜í•™ì—ì„œ ë¶„ìˆ˜ì˜ ë‚˜ëˆ—ì…ˆ ì‘ìš©ë¬¸ì œë¥¼ ë¬¸ì¥ í•´ì„ë¶€í„° í’€ì—ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ë¬¸ì œë¥¼ ì½ê³  í•„ìš”í•œ ê°’ì— ë°‘ì¤„ì„ ì¹˜ë©° ì‹ì„ ë¨¼ì € ì„¸ì› ì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ë‹¨ìœ„ë¥¼ ë°”ê¿€ ë•Œ ë¶„ìˆ˜ ê³„ì‚°ê³¼ ë‹¨ìœ„ í™˜ì‚°ì„ ë™ì‹œì— í•˜ë‹ˆ ì‹¤ìˆ˜ê°€ ë‚¬ì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ë‹¨ìœ„ í™˜ì‚°ì„ ë¨¼ì € ëë‚¸ ë’¤ ê³„ì‚°í•˜ëŠ” ìˆœì„œí‘œë¥¼ ë§Œë“¤ì–´ ì ìš©í–ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ì—¬ëŸ¬ ë‹¨ê³„ ë¬¸ì œì—ì„œ ì¤‘ê°„ì‹ì„ ì–´ë–»ê²Œ ê°„ë‹¨íˆ ì“°ëŠ”ì§€ ê³ ë¯¼ë¼ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ìš”ë¦¬ ë ˆì‹œí”¼ ë¹„ìœ¨ì„ ë¶„ìˆ˜ë¡œ ë°”ê¿” ì–‘ ì¡°ì ˆ ê³„ì‚°ì„ ì—°ìŠµí•´ë³¼ê²Œìš”.',
  array['ìˆ˜í•™','ì‹¤ê³¼']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-26',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ë„ë•ì—ì„œ ê°ˆë“± ìƒí™©ì˜ ì…ì¥ì„ ë°”ê¿” ìƒê°í•˜ëŠ” í™œë™ì„ í–ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ë‚´ ìƒê°ë§Œ ë§í•˜ì§€ ì•Šê³  ìƒëŒ€ ì…ì¥ ê·¼ê±°ë„ í•¨ê»˜ ë§í–ˆì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ê°ì •ì´ ì•ì„œë©´ ê·¼ê±°ë¥¼ ì°¨ë¶„íˆ ì •ë¦¬í•´ ë§í•˜ê¸° ì–´ë ¤ì› ì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ì£¼ì¥-ì´ìœ -ì˜ˆì‹œ 3ë‹¨ê³„ë¡œ ë§í•˜ê¸° ë©”ëª¨ë¥¼ ë§Œë“¤ì–´ ë°œí‘œí–ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ë¹„ìŠ·í•œ ìƒí™©ì—ì„œ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ë¨¼ì € ì–‘ë³´í• ì§€ ì•„ì§ ê³ ë¯¼ë¼ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ì¹œêµ¬ì™€ ì˜ê²¬ì´ ë‹¤ë¥¼ ë•Œ ì´ìœ ë¥¼ ë¨¼ì € ë¬»ê³  ë‹µí•˜ëŠ” ì—°ìŠµì„ í•´ë³¼ê²Œìš”.',
  array['ë„ë•','í† ë¡ ','ë°œí‘œ']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-27',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ìŒì•…ì—ì„œ ë¦¬ë“¬ íŒ¨í„´ì„ ë“£ê³  ë°•ì ë‹¨ìœ„ë¡œ ë¶„ì„í–ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : í‹€ë¦° ë°•ìë¥¼ í‘œì‹œí•´ ë‹¤ì‹œ ë“£ê³  ì •í™•íˆ ë§ì¶œ ë•Œê¹Œì§€ ë°˜ë³µí–ˆì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ë¹ ë¥¸ í…œí¬ì—ì„œ ì‰¼í‘œê°€ ë“¤ì–´ê°€ëŠ” êµ¬ê°„ì„ ë†“ì³¤ì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ì†ë¼‰ ë°•ìì™€ ë°œ ë°•ìë¥¼ ë¶„ë¦¬í•´ ì—°ìŠµí•˜ë‹ˆ íë¦„ì´ ì•ˆì •ëì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ë¦¬ë“¬ì„ ì•…ë³´ë¡œ ì˜®ê¸¸ ë•Œ ê¸°í˜¸ ê¸¸ì´ë¥¼ ì •í™•íˆ ì ëŠ” ê²Œ ì–´ë ¤ì›Œìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ì¢‹ì•„í•˜ëŠ” ë…¸ë˜ ë¦¬ë“¬ì„ ë°•ìë¡œ ë‚˜ëˆ  ì ì–´ë³´ë©° ê°ê°ì„ í‚¤ìš¸ê²Œìš”.',
  array['ìŒì•…']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-02-28',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ê³¼í•™ì—ì„œ ì‹¤í—˜ ê²°ê³¼ë¥¼ ê·¸ë˜í”„ë¡œ ë‚˜íƒ€ë‚´ê³  ê²½í–¥ì„ ì„¤ëª…í–ˆì–´ìš”.\në‚´ê°€ ì˜í•œ ì : ê·¸ë˜í”„ ì¶• ì´ë¦„ê³¼ ë‹¨ìœ„ë¥¼ ë¨¼ì € í™•ì¸í•´ í•´ì„ ì˜¤ë¥˜ë¥¼ ì¤„ì˜€ì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ê·¸ë˜í”„ê°€ ë¹„ìŠ·í•˜ê²Œ ë³´ì´ëŠ” êµ¬ê°„ì˜ ì°¨ì´ë¥¼ ë§ë¡œ ì„¤ëª…í•˜ê¸° ì–´ë ¤ì› ì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ì¦ê°€/ê°ì†Œ/ìœ ì§€ êµ¬ê°„ì„ ìƒ‰ìœ¼ë¡œ êµ¬ë¶„í•´ ë¬¸ì¥ìœ¼ë¡œ ë°”ê¿” ì ì—ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ì´ìƒì¹˜ê°€ ìˆì„ ë•Œ ì „ì²´ ê²½í–¥ì„ ì–´ë–»ê²Œ íŒë‹¨í• ì§€ ì•„ì§ ë¶ˆì•ˆí•´ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ê³µë¶€ ì‹œê°„ ê¸°ë¡ì„ ê·¸ë˜í”„ë¡œ ë§Œë“¤ì–´ ë³€í™” íŒ¨í„´ì„ í™•ì¸í•´ë³¼ê²Œìš”.',
  array['ê³¼í•™','ìˆ˜í•™']::text[],
  null
),
(
  'ì²´í—˜ìš©','1',date '2026-03-01',
  E'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ì‚¬íšŒ ë°œí‘œ ì¤€ë¹„ì—ì„œ ìë£Œë¥¼ ì •ë¦¬í•˜ê³  ëª¨ë‘  ë°œí‘œ ìˆœì„œë¥¼ ë§ì·„ì–´ìš”.\në‚´ê°€ ì˜í•œ ì : í•µì‹¬ ë¬¸ì¥ì„ ì§§ê²Œ ë°”ê¿” ì „ë‹¬ë ¥ì´ ì¢‹ì•„ì¡Œê³  ì¹œêµ¬ í”¼ë“œë°±ë„ ë°˜ì˜í–ˆì–´ìš”.\nì–´ë ¤ì› ë˜ ì : ì§ˆë¬¸ì„ ë°›ìœ¼ë©´ ë°”ë¡œ ë‹µí•  ê·¼ê±°ë¥¼ ì°¾ëŠ” ë° ì‹œê°„ì´ ê±¸ë ¸ì–´ìš”.\nì´í•´/í•´ê²° ë°©ë²•: ì˜ˆìƒ ì§ˆë¬¸ì„ 3ê°œ ì •ë¦¬í•˜ê³  ê·¼ê±° ë¬¸ì¥ì„ ì¹´ë“œë¡œ ë§Œë“¤ì–´ ì—°ìŠµí–ˆì–´ìš”.\nì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ë‚¯ì„  ì§ˆë¬¸ì´ ë“¤ì–´ì™”ì„ ë•Œ ë‹µë³€ì„ êµ¬ì¡°ì ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë°©ë²•ì´ ë” í•„ìš”í•´ìš”.\nì¼ìƒì— ì ìš©í•´ë³¼ ì : ë°œí‘œ ì „ì— í•µì‹¬-ê·¼ê±°-ì˜ˆì‹œ ìˆœì„œë¡œ ì§§ê²Œ ë§í•˜ëŠ” ì—°ìŠµì„ ê³„ì†í• ê²Œìš”.',
  array['ì‚¬íšŒ','ë°œí‘œ','ëª¨ë‘ í™œë™']::text[],
  null
);

-- 3) ë°°ì›€ë…¸íŠ¸: 2~4ë²ˆ 10ì¼ + 5~16ë²ˆ 1ì¼ (ì´ 42í–‰)
with base as (
  select
    s::text as student_id,
    s as sid,
    d::date as reflection_date,
    row_number() over (partition by s order by d) as day_no,
    extract(day from d)::int as day_num
  from generate_series(2, 4) s
  cross join generate_series(date '2026-02-20', date '2026-03-01', interval '1 day') d
  union all
  select
    s::text as student_id,
    s as sid,
    date '2026-03-01' as reflection_date,
    1 as day_no,
    1 as day_num
  from generate_series(5, 16) s
),
draft as (
  select
    student_id,
    reflection_date,
    sid,
    day_no,
    case
      when sid = 2 then
        case mod(day_no, 3)
          when 1 then array['ìˆ˜í•™']::text[]
          when 2 then array['ìˆ˜í•™','ì‹¤ê³¼']::text[]
          else array['ìˆ˜í•™','ë°œí‘œ']::text[]
        end
      when sid = 3 then
        case mod(day_no, 3)
          when 1 then array['êµ­ì–´']::text[]
          when 2 then array['êµ­ì–´','í† ë¡ ']::text[]
          else array['êµ­ì–´','ë°œí‘œ','ëª¨ë‘ í™œë™']::text[]
        end
      when sid = 4 then
        case mod(day_no, 4)
          when 1 then array['ê³¼í•™','ëª¨ë‘ í™œë™']::text[]
          when 2 then array['ì‚¬íšŒ']::text[]
          when 3 then array['ì˜ì–´','ë°œí‘œ']::text[]
          else array['ë¯¸ìˆ ','ìŒì•…']::text[]
        end
      else
        case mod(sid + day_no, 5)
          when 0 then array['ìˆ˜í•™']::text[]
          when 1 then array['ê³¼í•™','ëª¨ë‘ í™œë™']::text[]
          when 2 then array['êµ­ì–´','ë°œí‘œ']::text[]
          when 3 then array['ì‚¬íšŒ','ì˜ì–´']::text[]
          else array['ì²´ìœ¡','ë„ë•','ê¸°íƒ€']::text[]
        end
    end as subject_tags,
    case mod(sid + day_no, 6)
      when 0 then 'ê°œë…ê³¼ ì˜ˆì‹œë¥¼ ì—°ê²°í•´ í•µì‹¬ì„ ì •ë¦¬í–ˆì–´ìš”.'
      when 1 then 'ë¬¸ì œë¥¼ ë‹¨ê³„ë³„ë¡œ ë‚˜ëˆ  ë³´ê³  í’€ì´ íë¦„ì„ ì´í•´í–ˆì–´ìš”.'
      when 2 then 'ëª¨ë‘  í™œë™ì—ì„œ ì—­í• ì„ ë‚˜ëˆ  ìë£Œë¥¼ ì •ë¦¬í–ˆì–´ìš”.'
      when 3 then 'ë°œí‘œ ìë£Œë¥¼ ê°„ë‹¨í•œ ë¬¸ì¥ìœ¼ë¡œ ë°”ê¿” ì „ë‹¬í•´ë´¤ì–´ìš”.'
      when 4 then 'ì‹¤í—˜ ê²°ê³¼ë¥¼ í‘œë¡œ ì •ë¦¬í•˜ê³  ì´ìœ ë¥¼ ì„¤ëª…í–ˆì–´ìš”.'
      else 'ì½ì€ ë‚´ìš©ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ë©° ì´í•´ë¥¼ ì ê²€í–ˆì–´ìš”.'
    end as learned,
    case mod(sid * day_no, 6)
      when 0 then 'í•µì‹¬ ë‹¨ì–´ë¥¼ ë¨¼ì € í‘œì‹œí•˜ê³  ëê¹Œì§€ ì§‘ì¤‘í–ˆì–´ìš”.'
      when 1 then 'í‹€ë¦° ë¶€ë¶„ì„ ë‹¤ì‹œ í™•ì¸í•˜ê³  ìŠ¤ìŠ¤ë¡œ ê³ ì³¤ì–´ìš”.'
      when 2 then 'ì¹œêµ¬ ì„¤ëª…ì„ ë“£ê³  ë‚´ ë§ë¡œ ë‹¤ì‹œ ì •ë¦¬í–ˆì–´ìš”.'
      when 3 then 'ì‹œê°„ ì•ˆì— í•´ì•¼ í•  ìˆœì„œë¥¼ ì •í•´ì„œ ì‹¤ì²œí–ˆì–´ìš”.'
      when 4 then 'ì§ˆë¬¸ì„ ë©”ëª¨í•˜ê³  í™•ì¸í•˜ë©´ì„œ ì´í•´ë¥¼ ë„“í˜”ì–´ìš”.'
      else 'ì˜ˆì‹œë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë³´ë©° ê°œë…ì„ ì ìš©í–ˆì–´ìš”.'
    end as good_point,
    case mod(sid + day_no * 2, 6)
      when 0 then 'ìš©ì–´ê°€ ë¹„ìŠ·í•´ì„œ ë¬¸ì œ ìš”êµ¬ë¥¼ í—·ê°ˆë ¸ì–´ìš”.'
      when 1 then 'ê³„ì‚° ìˆœì„œë¥¼ ë°”ê¾¸ë©´ ì‹¤ìˆ˜ê°€ ìì£¼ ìƒê²¼ì–´ìš”.'
      when 2 then 'ê¸´ ë¬¸ì¥ì„ ì§§ê²Œ ìš”ì•½í•  ë•Œ í•µì‹¬ì´ ë¹ ì¡Œì–´ìš”.'
      when 3 then 'ê·¼ê±°ë¥¼ ë§í•  ë•Œ ì˜ˆì‹œê°€ ë¶€ì¡±í–ˆì–´ìš”.'
      when 4 then 'ë°œí‘œí•  ë•Œ ê¸´ì¥í•´ì„œ ì†ë„ê°€ ë¹¨ë¼ì¡Œì–´ìš”.'
      else 'ê·¸ë˜í”„ë‚˜ í‘œ í•´ì„ì—ì„œ ì„¸ë¶€ ì°¨ì´ë¥¼ ë†“ì³¤ì–´ìš”.'
    end as hard_point,
    case mod(sid * 3 + day_no, 6)
      when 0 then 'ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³  í•œ ë‹¨ê³„ì”© í™•ì¸í–ˆì–´ìš”.'
      when 1 then 'ì„ ìƒë‹˜ ì˜ˆì‹œë¥¼ ë”°ë¼ í•œ ë’¤ ë¹„ìŠ·í•œ ë¬¸ì œë¥¼ ë‹¤ì‹œ í’€ì—ˆì–´ìš”.'
      when 2 then 'ì¹œêµ¬ì™€ ì„¤ëª…ì„ ë²ˆê°ˆì•„ í•˜ë©° í‹€ë¦° ë¶€ë¶„ì„ ì°¾ì•˜ì–´ìš”.'
      when 3 then 'í•µì‹¬ ë¬¸ì¥ì„ ë¨¼ì € ì“°ê³  ê·¼ê±°ë¥¼ ë§ë¶™ì˜€ì–´ìš”.'
      when 4 then 'ì˜¤ë‹µ ì›ì¸ì„ ì ê³  ê°™ì€ ìœ í˜•ì„ í•œ ë²ˆ ë” ì—°ìŠµí–ˆì–´ìš”.'
      else 'ë„ì‹í™”í•´ì„œ ì›ì¸ê³¼ ê²°ê³¼ë¥¼ ë¶„ë¦¬í•´ ì •ë¦¬í–ˆì–´ìš”.'
    end as solve_way,
    case mod(sid + day_no, 5)
      when 0 then 'ë¹„ìŠ·í•œ ìœ í˜•ì„ ë§Œë‚¬ì„ ë•Œ ì‹œì‘ ë¬¸ì¥ì„ ì •í•˜ëŠ” ê²Œ ì•„ì§ ì–´ë ¤ì›Œìš”.'
      when 1 then 'ì—¬ëŸ¬ ì¡°ê±´ì´ ë™ì‹œì— ë‚˜ì˜¤ë©´ ìš°ì„ ìˆœìœ„ íŒë‹¨ì´ í—·ê°ˆë ¤ìš”.'
      when 2 then 'ê·¼ê±°ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ì •í™•íˆ ì••ì¶•í•˜ëŠ” ì—°ìŠµì´ ë” í•„ìš”í•´ìš”.'
      when 3 then 'ë‚¯ì„  ë‹¨ì–´ê°€ ë‚˜ì˜¤ë©´ ë¬¸ë§¥ìœ¼ë¡œ ì¶”ë¡ í•˜ëŠ” ì†ë„ê°€ ëŠë ¤ìš”.'
      else 'ë¬¸ì œë¥¼ ë¹¨ë¦¬ ì½ìœ¼ë©´ ì„¸ë¶€ ì¡°ê±´ì„ ë†“ì¹  ë•Œê°€ ìˆì–´ìš”.'
    end as confusing,
    case mod(sid * 5 + day_no, 6)
      when 0 then 'ì§‘ì—ì„œ ë¬¸ì œë¥¼ ë³¼ ë•Œë„ ë‹¨ê³„ ìˆœì„œë¥¼ ë¨¼ì € ì ê³  ì‹œì‘í• ê²Œìš”.'
      when 1 then 'ê°€ì¡±ì—ê²Œ ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ 1ë¶„ ì„¤ëª…ìœ¼ë¡œ ì—°ìŠµí•´ë³¼ê²Œìš”.'
      when 2 then 'ì¼ìƒ ìƒí™©ì„ ì˜ˆì‹œë¡œ ë°”ê¿” ê°œë…ì„ ì ìš©í•´ë³¼ê²Œìš”.'
      when 3 then 'ë‚´ì¼ ìˆ˜ì—… ì „ì— í•µì‹¬ í‚¤ì›Œë“œ 3ê°œë¥¼ ë¯¸ë¦¬ ë– ì˜¬ë ¤ë³¼ê²Œìš”.'
      when 4 then 'ë…¸íŠ¸ì— ì˜¤ë‹µ ì´ìœ ë¥¼ ì§§ê²Œ ë‚¨ê²¨ ê°™ì€ ì‹¤ìˆ˜ë¥¼ ì¤„ì—¬ë³¼ê²Œìš”.'
      else 'ì¹œêµ¬ì™€ ì„œë¡œ ì§ˆë¬¸ì„ ë§Œë“¤ì–´ í™•ì¸í•˜ëŠ” ì—°ìŠµì„ í•´ë³¼ê²Œìš”.'
    end as apply_point
  from base
)
insert into public.daily_reflections (
  class_code,
  student_id,
  reflection_date,
  learning_text,
  subject_tags,
  ai_feedback
)
select
  'ì²´í—˜ìš©',
  student_id,
  reflection_date,
  'ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©: ' || learned || E'\n' ||
  'ë‚´ê°€ ì˜í•œ ì : ' || good_point || E'\n' ||
  'ì–´ë ¤ì› ë˜ ì : ' || hard_point || E'\n' ||
  'ì´í•´/í•´ê²° ë°©ë²•: ' || solve_way || E'\n' ||
  'ì•„ì§ í—·ê°ˆë¦¬ëŠ” ì : ' || confusing || E'\n' ||
  'ì¼ìƒì— ì ìš©í•´ë³¼ ì : ' || apply_point,
  subject_tags,
  null
from draft;

-- 4) í”„ë¡œì íŠ¸ ëŒì•„ë³´ê¸°: 5ê°œ ë¼ë²¨ ê°•ì œ í¬í•¨
insert into public.project_reflections (
  class_code,
  student_id,
  project_name,
  reflection_date,
  star_rating,
  comment
)
values
(
  'ì²´í—˜ìš©','1','ìš°ë¦¬ ë™ë„¤ ê¸°í›„ ì•ˆë‚´ ì¹´ë“œ',date '2026-03-01',5,
  E'ğŸ¤” ì•„ì‰¬ìš´ ì /ì–´ë ¤ì› ë˜ ì : ìë£Œë¥¼ ë§ì´ ë„£ìœ¼ë ¤ë‹¤ ì¹´ë“œ í•œ ì¥ì— ì •ë³´ê°€ ë„ˆë¬´ ë§ì•„ì¡Œì–´ìš”.\nğŸ‘ ì˜ëœ ì : í•µì‹¬ í‚¤ì›Œë“œë¥¼ í¬ê²Œ ì¨ì„œ ë³´ëŠ” ì‚¬ëŒì´ ë‚´ìš©ì„ ë¹¨ë¦¬ ì´í•´í–ˆì–´ìš”.\nğŸ’ª ë‹¤ìŒ ë„ì „: ê°™ì€ ë‚´ìš©ì„ 30ì´ˆ ì„¤ëª… ë²„ì „ìœ¼ë¡œ ë” ê°„ë‹¨íˆ ë§í•´ë³¼ë˜ìš”.\nì¸ìƒì ì¸ ìˆœê°„/ë°°ìš´ ì : ì¹œêµ¬ê°€ ë‚´ ì¹´ë“œ ë³´ê³  "í•œëˆˆì— ë³´ì¸ë‹¤"ê³  ë§í•´ì¤˜ì„œ ìš”ì•½ì˜ í˜ì„ ë°°ì› ì–´ìš”.\nğŸ¯ ë‹¤ìŒì„ ìœ„í•œ íŒ: ë¨¼ì € ì „ë‹¬ ëª©í‘œë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ì ê³  ê·¸ ê¸°ì¤€ìœ¼ë¡œ ìë£Œë¥¼ ê³ ë¥´ì.'
),
(
  'ì²´í—˜ìš©','1','ë¶„ìˆ˜ ì‹¤ìƒí™œ ë¬¸ì œì§‘',date '2026-03-01',4,
  E'ğŸ¤” ì•„ì‰¬ìš´ ì /ì–´ë ¤ì› ë˜ ì : ì‹¤ìƒí™œ ì˜ˆì‹œë¥¼ ë§Œë“¤ ë•Œ ìˆ«ì ì¡°ê±´ì„ ë„ˆë¬´ ë³µì¡í•˜ê²Œ ì¡ì•˜ì–´ìš”.\nğŸ‘ ì˜ëœ ì : ë‚œì´ë„ë³„ë¡œ ë¬¸ì œë¥¼ ë‚˜ëˆ  ì¹œêµ¬ë“¤ì´ ë‹¨ê³„ì ìœ¼ë¡œ í’€ ìˆ˜ ìˆê²Œ í–ˆì–´ìš”.\nğŸ’ª ë‹¤ìŒ ë„ì „: ê°™ì€ ì£¼ì œë¡œ 3ë¬¸í•­ ë¯¸ë‹ˆí€´ì¦ˆë¥¼ ë§Œë“¤ì–´ ìˆ˜ì—… ì‹œì‘ ì „ì— í’€ì–´ë³´ê²Œ í•˜ê³  ì‹¶ì–´ìš”.\nì¸ìƒì ì¸ ìˆœê°„/ë°°ìš´ ì : ì¹œêµ¬ê°€ ë‚´ ë¬¸ì œë¥¼ í’€ê³  ìŠ¤ìŠ¤ë¡œ ì„¤ëª…í•˜ëŠ” ëª¨ìŠµì„ ë³´ë©° ë¬¸ì œ ì„¤ê³„ê°€ ì¤‘ìš”í•˜ë‹¤ëŠ” ê±¸ ëŠê¼ˆì–´ìš”.\nğŸ¯ ë‹¤ìŒì„ ìœ„í•œ íŒ: ë¬¸ì œë¥¼ ë§Œë“¤ ë•Œ "í•œ ë²ˆì— í•œ ê°œë…" ì›ì¹™ì„ ì§€í‚¤ë©´ ì „ë‹¬ì´ ì‰¬ì›Œì§„ë‹¤.'
);

with p as (
  select s as sid
  from generate_series(2, 11) s
)
insert into public.project_reflections (
  class_code,
  student_id,
  project_name,
  reflection_date,
  star_rating,
  comment
)
select
  'ì²´í—˜ìš©',
  sid::text,
  (array[
    'ìš°ë¦¬ í•™êµ ì•ˆë‚´ ì˜ìƒ',
    'í™˜ê²½ ë³´í˜¸ í¬ìŠ¤í„° ë§Œë“¤ê¸°',
    'ì§€ì—­ ë¬¸í™” ì†Œê°œ ë°œí‘œ',
    'ìˆ˜í•™ ê²Œì„ ê·œì¹™ ë§Œë“¤ê¸°',
    'ê³¼í•™ ì‹¤í—˜ ê²°ê³¼ ì¹´ë“œë‰´ìŠ¤',
    'ë…ì„œ ì¶”ì²œ ì¹´ë“œ ì œì‘'
  ])[1 + mod(sid, 6)],
  date '2026-03-01',
  3 + mod(sid, 3),
  'ğŸ¤” ì•„ì‰¬ìš´ ì /ì–´ë ¤ì› ë˜ ì : ' ||
  (array[
    'ì‹œê°„ ë°°ë¶„ì„ ì˜ëª»í•´ì„œ ë§ˆë¬´ë¦¬ê°€ ê¸‰í–ˆì–´ìš”.',
    'ìë£Œë¥¼ ê³ ë¥¼ ë•Œ ê¸°ì¤€ì´ í”ë“¤ë ¤ ê³ ë¯¼ì´ ê¸¸ì–´ì¡Œì–´ìš”.',
    'ì„¤ëª…ì€ í–ˆì§€ë§Œ í•µì‹¬ì„ ì§§ê²Œ ë§í•˜ëŠ” ê²Œ ì–´ë ¤ì› ì–´ìš”.',
    'ë°œí‘œ ìˆœì„œë¥¼ ì™¸ìš°ëŠë¼ ë‚´ìš© ì „ë‹¬ì´ ì•½í•´ì¡Œì–´ìš”.'
  ])[1 + mod(sid, 4)] || E'\n' ||
  'ğŸ‘ ì˜ëœ ì : ' ||
  (array[
    'ì—­í• ì„ ë‚˜ëˆ  í˜‘ë ¥í•˜ë©´ì„œ ì™„ì„±ë„ë¥¼ ë†’ì˜€ì–´ìš”.',
    'ì¹œêµ¬ í”¼ë“œë°±ì„ ë°˜ì˜í•´ ê²°ê³¼ë¬¼ì„ ê°œì„ í–ˆì–´ìš”.',
    'í•µì‹¬ ë¬¸ì¥ì„ ë¨¼ì € ì œì‹œí•´ ì´í•´ë¥¼ ë„ì™”ì–´ìš”.',
    'í‘œ/ê·¸ë¦¼ì„ í™œìš©í•´ ì„¤ëª…ì´ ì‰¬ì›Œì¡Œì–´ìš”.'
  ])[1 + mod(sid + 1, 4)] || E'\n' ||
  'ğŸ’ª ë‹¤ìŒ ë„ì „: ' ||
  (array[
    'ì§ˆë¬¸ì´ ë“¤ì–´ì™€ë„ ê·¼ê±°ë¥¼ ë°”ë¡œ ë§í•  ìˆ˜ ìˆê²Œ ì¤€ë¹„í• ë˜ìš”.',
    'í•œ ì¥ ìš”ì•½ë³¸ì„ ë§Œë“¤ì–´ ì „ë‹¬ë ¥ì„ ë” ë†’ì¼ë˜ìš”.',
    'ë‹¤ë¥¸ ê´€ì ì˜ ì˜ˆì‹œë¥¼ ì¶”ê°€í•´ ì„¤ë“ë ¥ì„ í‚¤ìš¸ë˜ìš”.',
    'ë°œí‘œ ì—°ìŠµì„ 2íšŒ ì´ìƒ í•˜ë©° ì†ë„ë¥¼ ì¡°ì ˆí• ë˜ìš”.'
  ])[1 + mod(sid + 2, 4)] || E'\n' ||
  'ì¸ìƒì ì¸ ìˆœê°„/ë°°ìš´ ì : ' ||
  (array[
    'ì¹œêµ¬ê°€ ë‚´ ì„¤ëª…ì„ ë“£ê³  ê³ ê°œë¥¼ ë„ë•ì´ëŠ” ìˆœê°„ ìì‹ ê°ì´ ìƒê²¼ì–´ìš”.',
    'ì‹¤ìˆ˜ í›„ ìˆ˜ì • ê³¼ì •ì„ ê±°ì¹˜ë©´ì„œ ì¤€ë¹„ì˜ ì¤‘ìš”ì„±ì„ ë°°ì› ì–´ìš”.',
    'í˜‘ë ¥í•˜ë©´ì„œ ì„œë¡œ ê°•ì ì„ ë‚˜ëˆ„ë©´ ê²°ê³¼ê°€ ì¢‹ì•„ì§„ë‹¤ëŠ” ê±¸ ëŠê¼ˆì–´ìš”.',
    'ì •ë¦¬í•œ ë‚´ìš©ì„ ì§§ê²Œ ë§í• ìˆ˜ë¡ ì „ë‹¬ì´ ì˜ëœë‹¤ëŠ” ì ì„ ë°°ì› ì–´ìš”.'
  ])[1 + mod(sid + 3, 4)] || E'\n' ||
  'ğŸ¯ ë‹¤ìŒì„ ìœ„í•œ íŒ: ' ||
  (array[
    'ì‹œì‘ ì „ì— ëª©í‘œ ë¬¸ì¥ì„ ë¨¼ì € ì ê³  ìë£Œë¥¼ ì„ íƒí•˜ì.',
    'ê²°ê³¼ë¬¼ì„ ë§Œë“¤ë©° ì¤‘ê°„ ì ê²€ ì‹œê°„ì„ ê¼­ ë„£ì.',
    'ì„¤ëª…í•  ë•ŒëŠ” í•µì‹¬-ê·¼ê±°-ì˜ˆì‹œ ìˆœì„œë¥¼ ìœ ì§€í•˜ì.',
    'ì™„ì„± ì§ì „ ì¹œêµ¬ 1ëª…ì—ê²Œ ì´í•´ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì.'
  ])[1 + mod(sid, 4)]
from p;

-- 5) ëª©í‘œ ë°ì´í„°
with s as (
  select gs as sid
  from generate_series(1, 16) gs
),
goal_rows as (
  select
    sid::text as student_id,
    1 as ord,
    'ì´ë²ˆ ì£¼ ë°°ì›€ë…¸íŠ¸ë¥¼ ìµœì†Œ 3íšŒ ì‘ì„±í•˜ê¸°' as goal_text,
    'weekly' as goal_type,
    (sid % 2 = 0) as is_completed
  from s
  union all
  select
    sid::text,
    2,
    'ìˆ˜ì—… ëë‚˜ê³  ì˜¤ëŠ˜ ë°°ìš´ í•µì‹¬ 3ì¤„ ìš”ì•½í•˜ê¸°',
    'weekly',
    (sid % 3 = 0)
  from s
  union all
  select
    '1',
    3,
    'ë¶„ìˆ˜ ë‹¨ì› ì˜¤ë‹µë…¸íŠ¸ 2íšŒ ë³µìŠµ ì™„ë£Œí•˜ê¸°',
    'monthly',
    false
)
insert into public.student_goals (
  class_code,
  student_id,
  goal_text,
  goal_type,
  is_completed,
  completed_at
)
select
  'ì²´í—˜ìš©',
  student_id,
  goal_text,
  goal_type,
  is_completed,
  case
    when is_completed then timestamp with time zone '2026-03-01 20:00:00+09' + ((ord - 1) || ' hours')::interval
    else null
  end
from goal_rows;

-- 6) ì„ ìƒë‹˜ê»˜ í¸ì§€(ìµëª…/ì‹¤ëª… í˜¼í•©, ë‚´ìš© ìœ í˜• ë‹¤ì–‘í™”)
insert into public.teacher_messages (
  class_code,
  student_id,
  is_anonymous,
  message_content,
  created_at
)
values
('ì²´í—˜ìš©','1',false,'ìš”ì¦˜ ëª¨ë‘ í™œë™ì—ì„œ 8ë²ˆ ì¹œêµ¬ê°€ ì œ ë§ì„ ìì£¼ ëŠì–´ì„œ ì†ìƒí•´ìš”. ë§í•  ì°¨ë¡€ë¥¼ ì •í•˜ëŠ” ê·œì¹™ì„ í•¨ê»˜ ì •í•´ë³´ë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 08:55:00+09'),
('ì²´í—˜ìš©',null,true,'2êµì‹œ ìˆ˜í•™ ì‹œê°„ì— ë¶„ìˆ˜ ì‘ìš©ë¬¸ì œê°€ ê°‘ìê¸° ì–´ë ¤ì›Œì ¸ì„œ ë”°ë¼ê°€ê¸° í˜ë“¤ ë•Œê°€ ìˆì–´ìš”. ì¤‘ê°„ ì˜ˆì‹œë¥¼ í•œ ë²ˆ ë” ë³´ê³  ì‹¶ì–´ìš”.',timestamp with time zone '2026-03-01 09:12:00+09'),
('ì²´í—˜ìš©','1',false,'ë°œí‘œ ì „ì— 3ë¶„ë§Œ ë¯¸ë¦¬ ì§ˆë¬¸ ì˜ˆìƒ ì‹œê°„ì„ ì£¼ì‹œë©´ ë‹µë³€ ì¤€ë¹„ì— ë„ì›€ì´ ë  ê²ƒ ê°™ì•„ìš”.',timestamp with time zone '2026-03-01 09:35:00+09'),
('ì²´í—˜ìš©','2',false,'ì²´ìœ¡ ì‹œê°„ ê·œì¹™ ì„¤ëª…ì´ ë¹ ë¥´ê²Œ ì§€ë‚˜ê°€ì„œ í—·ê°ˆë¦´ ë•Œê°€ ìˆì–´ìš”. í•µì‹¬ ê·œì¹™ì„ ì¹ íŒì— ë‚¨ê²¨ì£¼ì‹œë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 10:05:00+09'),
('ì²´í—˜ìš©',null,true,'ì¹œêµ¬ ê´€ê³„ ë•Œë¬¸ì— ì‰¬ëŠ” ì‹œê°„ ì´í›„ì— ì§‘ì¤‘ì´ ì˜ ì•ˆë  ë•Œê°€ ìˆì–´ìš”. ì§§ê²Œ ë§ˆìŒ ì •ë¦¬í•  ì‹œê°„ì„ ì£¼ì‹¤ ìˆ˜ ìˆì„ê¹Œìš”?',timestamp with time zone '2026-03-01 10:22:00+09'),
('ì²´í—˜ìš©','3',false,'êµ­ì–´ ë°œí‘œí•  ë•Œ ëª©ì†Œë¦¬ í¬ê¸°ë¥¼ ì¡°ì ˆí•˜ê¸° ì–´ë ¤ì›Œìš”. ë°œí‘œ ì „ ì§§ì€ ë¦¬í—ˆì„¤ ê¸°íšŒê°€ ìˆìœ¼ë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 10:48:00+09'),
('ì²´í—˜ìš©',null,true,'ê³¼í•™ ì‹¤í—˜ ë•Œ ì—­í• ì´ ê²¹ì³ì„œ ì°¸ì—¬ë¥¼ ëª»í•  ë•Œê°€ ìˆì–´ìš”. ì—­í• ì¹´ë“œë¥¼ ë¯¸ë¦¬ ë‚˜ëˆ„ë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 11:07:00+09'),
('ì²´í—˜ìš©','4',false,'ì˜ì–´ ì‹œê°„ì— ë‹¨ì–´ ëœ»ì€ ì•Œì§€ë§Œ ë¬¸ì¥ìœ¼ë¡œ ë§í•˜ë ¤ë©´ ì‹œê°„ì´ ë” í•„ìš”í•´ìš”. ë§í•˜ê¸° ì¤€ë¹„ ì‹œê°„ì„ ì¡°ê¸ˆë§Œ ë” ì£¼ì…¨ìœ¼ë©´ í•´ìš”.',timestamp with time zone '2026-03-01 11:35:00+09'),
('ì²´í—˜ìš©',null,true,'ë„ë• í† ë¡ ì—ì„œ ì˜ê²¬ì´ ë¶€ë”ªíˆë©´ ë¶„ìœ„ê¸°ê°€ ì–´ìƒ‰í•´ì ¸ìš”. ì„œë¡œ ë§ ì°¨ë¡€ë¥¼ ì§€í‚¤ëŠ” ê·œì¹™ì„ í•œ ë²ˆ ë” ì•Œë ¤ì£¼ì„¸ìš”.',timestamp with time zone '2026-03-01 12:10:00+09'),
('ì²´í—˜ìš©','5',false,'ì‚¬íšŒ ì‹œê°„ ìë£Œê°€ ë§ì„ ë•Œ ë¬´ì—‡ë¶€í„° ë´ì•¼ í• ì§€ í—·ê°ˆë ¤ìš”. ìš°ì„ ìˆœìœ„ ê¸°ì¤€ì„ ì•Œë ¤ì£¼ì‹œë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 12:42:00+09'),
('ì²´í—˜ìš©',null,true,'ì‰¬ëŠ” ì‹œê°„ ì§í›„ ìˆ˜ì—… ì‹œì‘í•  ë•Œ ì§‘ì¤‘ ì „í™˜ì´ ì–´ë ¤ì›Œìš”. 1ë¶„ ì •ë¦¬ ë£¨í‹´ì´ ìˆìœ¼ë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 13:08:00+09'),
('ì²´í—˜ìš©','6',false,'ëª¨ë‘ ì—ì„œ í•œ ì¹œêµ¬ê°€ ê³„ì† ì¥ë‚œì„ ì³ì„œ í™œë™ì´ ëŠ¦ì–´ì¡Œì–´ìš”. ì—­í•  ì ê²€ì„ ì¤‘ê°„ì— í•œ ë²ˆ í•´ì£¼ì‹œë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 13:24:00+09'),
('ì²´í—˜ìš©',null,true,'ë°œí‘œ í‰ê°€ ê¸°ì¤€ì„ ì˜ˆì‹œì™€ í•¨ê»˜ ë¯¸ë¦¬ ë³´ë©´ ì¤€ë¹„ê°€ ë” ì‰¬ìš¸ ê²ƒ ê°™ì•„ìš”.',timestamp with time zone '2026-03-01 13:46:00+09'),
('ì²´í—˜ìš©','7',false,'ìŒì•… ì‹œê°„ ë¦¬ë“¬ ì—°ìŠµ ì†ë„ê°€ ë¹¨ë¼ì§€ë©´ ë”°ë¼ê°€ê¸° ì–´ë ¤ì›Œìš”. ëŠë¦° í…œí¬ ì—°ìŠµì„ í•œ ë²ˆ ë” í•´ì£¼ì‹œë©´ ê°ì‚¬í•´ìš”.',timestamp with time zone '2026-03-01 14:12:00+09'),
('ì²´í—˜ìš©',null,true,'ì¹œêµ¬ë‘ ì˜¤í•´ê°€ ìƒê²¼ëŠ”ë° ìˆ˜ì—…ì— ê³„ì† ìƒê°ì´ ë‚˜ìš”. ìƒë‹´í•  ìˆ˜ ìˆëŠ” ì§§ì€ ì‹œê°„ì´ ìˆìœ¼ë©´ ì¢‹ê² ì–´ìš”.',timestamp with time zone '2026-03-01 14:37:00+09'),
('ì²´í—˜ìš©','8',false,'í”„ë¡œì íŠ¸ ì¤€ë¹„ë¬¼ ê³µì§€ ì‹œê°„ì„ í•˜ë£¨ë§Œ ë” ë‹¹ê²¨ì£¼ì‹œë©´ ì¤€ë¹„ë¥¼ ë” ì˜í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”.',timestamp with time zone '2026-03-01 15:03:00+09');

-- 7) ì¹­ì°¬ ìš°ì²´í†µ(ìµëª…/ì‹¤ëª… í˜¼í•©, ìŠ¹ì¸ 70% / ëŒ€ê¸° 30%)
insert into public.praise_messages (
  class_code,
  sender_id,
  receiver_id,
  message_content,
  is_anonymous,
  is_approved,
  created_at
)
values
('ì²´í—˜ìš©','1','2','ìˆ˜í•™ ë¬¸ì œ í’€ì´ ìˆœì„œë¥¼ ì°¨ë¶„í•˜ê²Œ ì•Œë ¤ì¤˜ì„œ ì •ë§ ê³ ë§ˆì› ì–´!',false,true,timestamp with time zone '2026-03-01 09:00:00+09'),
('ì²´í—˜ìš©','1','5','ìµëª…ìœ¼ë¡œ ë‚¨ê²¨! ì˜¤ëŠ˜ ë°œí‘œ ì—°ìŠµí•  ë•Œ ë„¤ê°€ ë§ ìˆœì„œ ì •ë¦¬í•´ì¤€ ê²Œ í° ë„ì›€ì´ ëì–´.',true,true,timestamp with time zone '2026-03-01 09:06:00+09'),
('ì²´í—˜ìš©','1','9','ë‹¤ìŒ í† ë¡  ì „ì— ê·¼ê±° ì •ë¦¬ ê°™ì´ í•´ì¤„ ìˆ˜ ìˆì„ê¹Œ? ë„¤ ë°©ì‹ì´ ì¢‹ì•„ ë³´ì—¬.',false,false,timestamp with time zone '2026-03-01 09:14:00+09'),
('ì²´í—˜ìš©','2','1','ë°œí‘œ ì „ì— ê¸´ì¥í•œ ë‚˜ë¥¼ ë¨¼ì € ë„ì™€ì¤˜ì„œ ê³ ë§ˆì›Œ. ë•ë¶„ì— ìì‹ ê°ì´ ìƒê²¼ì–´!',false,true,timestamp with time zone '2026-03-01 09:18:00+09'),
('ì²´í—˜ìš©','3','4','ì‹¤í—˜í•  ë•Œ ê¸°ë¡í‘œ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ì¤˜ì„œ íŒ€ì´ ë¹¨ë¦¬ ëë‚¼ ìˆ˜ ìˆì—ˆì–´.',false,true,timestamp with time zone '2026-03-01 09:24:00+09'),
('ì²´í—˜ìš©','4','1','ìµëª…ìœ¼ë¡œ ë§í• ê²Œ! ì§ˆë¬¸ ë°›ì„ ë•Œ ì¹¨ì°©í•˜ê²Œ ë‹µí•˜ëŠ” ëª¨ìŠµì´ ë©‹ì¡Œì–´.',true,false,timestamp with time zone '2026-03-01 09:31:00+09'),
('ì²´í—˜ìš©','5','6','ì²´ìœ¡ ì‹œê°„ì— ê·œì¹™ ë‹¤ì‹œ ì„¤ëª…í•´ì¤˜ì„œ í—·ê°ˆë¦¼ì´ ì¤„ì—ˆì–´. ê³ ë§ˆì›Œ!',false,true,timestamp with time zone '2026-03-01 09:37:00+09'),
('ì²´í—˜ìš©','6','3','ìµëª…ì¸ë°, ë°œí‘œ ìë£Œ ê¸€ì í¬ê¸° í‚¤ìš´ ê±° ë•ë¶„ì— ë³´ê¸° ì‰¬ì› ì–´!',true,true,timestamp with time zone '2026-03-01 09:44:00+09'),
('ì²´í—˜ìš©','7','8','ëª¨ë‘  ì˜ê²¬ ì •ë¦¬í•  ë•Œ ë„¤ê°€ ì¤‘ê°„ì—ì„œ ì˜ ì¡°ìœ¨í•´ì¤˜ì„œ ê³ ë§ˆì› ì–´.',false,true,timestamp with time zone '2026-03-01 09:52:00+09'),
('ì²´í—˜ìš©','8','1','ì˜¤ëŠ˜ ì‚¬íšŒ ë°œí‘œí•  ë•Œ ì˜ˆì‹œë¥¼ ë“¤ì–´ì¤€ ê²Œ ì´í•´ì— í° ë„ì›€ ëì–´.',false,true,timestamp with time zone '2026-03-01 10:01:00+09'),
('ì²´í—˜ìš©','9','10','ë¬¸ì œì§‘ì—ì„œ ë¹„ìŠ·í•œ ìœ í˜• ì°¾ì•„ì¤€ ê±° ë•ë¶„ì— ë³µìŠµì´ ì‰¬ì› ì–´.',false,true,timestamp with time zone '2026-03-01 10:09:00+09'),
('ì²´í—˜ìš©','10','2','ìµëª…ìœ¼ë¡œ ë‚¨ê²¨! ì‰¬ëŠ” ì‹œê°„ì— ê°œë… ì„¤ëª…í•´ì¤˜ì„œ ì§„ì§œ ê³ ë§ˆì›Œ.',true,false,timestamp with time zone '2026-03-01 10:16:00+09'),
('ì²´í—˜ìš©','11','12','ë°œí‘œ ì „ ë¦¬í—ˆì„¤ ê°™ì´ ë§ì¶°ì¤˜ì„œ ëœ ë–¨ë ¸ì–´. ê³ ë§ˆì›Œ!',false,true,timestamp with time zone '2026-03-01 10:24:00+09'),
('ì²´í—˜ìš©','12','11','ëª¨ë‘ í™œë™ì—ì„œ ì‹œê°„ ì²´í¬í•´ì¤˜ì„œ ì§„í–‰ì´ ë§¤ë„ëŸ¬ì› ì–´!',false,true,timestamp with time zone '2026-03-01 10:30:00+09'),
('ì²´í—˜ìš©','13','14','ìµëª…ì¸ë°, ë„¤ê°€ ì‹¤ìˆ˜í•´ë„ ëê¹Œì§€ ë‹¤ì‹œ í•´ë³´ëŠ” ëª¨ìŠµì´ ë©‹ì¡Œì–´.',true,true,timestamp with time zone '2026-03-01 10:37:00+09'),
('ì²´í—˜ìš©','14','15','ìë£Œ ì°¾ëŠ” ë°©ë²• ì•Œë ¤ì¤˜ì„œ ìˆ™ì œí•  ë•Œ ë„ì›€ì´ ì»¸ì–´.',false,true,timestamp with time zone '2026-03-01 10:45:00+09'),
('ì²´í—˜ìš©','15','16','ì¹œêµ¬ë“¤ ì˜ê²¬ì„ ì˜ ë¬¶ì–´ì¤˜ì„œ í† ë¡ ì´ ê¹”ë”í–ˆì–´. ê³ ë§ˆì›Œ!',false,true,timestamp with time zone '2026-03-01 10:52:00+09'),
('ì²´í—˜ìš©','16','13','ìµëª…ìœ¼ë¡œ ë‚¨ê²¨! í‘œ ì •ë¦¬ ë°©ì‹ì´ ì¢‹ì•„ì„œ ë‚˜ë„ ë”°ë¼í•´ë´¤ì–´.',true,false,timestamp with time zone '2026-03-01 11:00:00+09'),
('ì²´í—˜ìš©','2','7','ë‹¤ìŒ ì£¼ ê³¼í•™ ì‹¤í—˜ ì¤€ë¹„ ê°™ì´ í•  ìˆ˜ ìˆì„ê¹Œ? ë„ì™€ì£¼ë©´ ê³ ë§ˆìš¸ ê²ƒ ê°™ì•„.',false,false,timestamp with time zone '2026-03-01 11:10:00+09'),
('ì²´í—˜ìš©','3','9','ìµëª… ìš”ì²­ì´ì•¼. ë°œí‘œ ì—°ìŠµí•  ë•Œ ë°œìŒ ì²´í¬ë¥¼ ë„ì™€ì¤„ ìˆ˜ ìˆì„ê¹Œ?',true,false,timestamp with time zone '2026-03-01 11:20:00+09'),
('ì²´í—˜ìš©','4','6','ìˆ˜ì—… ëë‚˜ê³  ì˜¤ë‹µ ì •ë¦¬ ê°™ì´ í•˜ìê³  ë§í•´ì¤˜ì„œ ê³ ë§ˆì›Œ.',false,true,timestamp with time zone '2026-03-01 11:28:00+09'),
('ì²´í—˜ìš©','5','1','ìµëª…ìœ¼ë¡œ! ë„ˆì˜ ìš”ì•½ ë…¸íŠ¸ ë°©ì‹ ë•ë¶„ì— ë³µìŠµì´ ì‰¬ì› ì–´.',true,true,timestamp with time zone '2026-03-01 11:34:00+09'),
('ì²´í—˜ìš©','6','10','ìë£Œ ì¡°ì‚¬ ë§í¬ ê³µìœ í•´ì¤˜ì„œ ê³¼ì œ ì‹œê°„ì´ ë§ì´ ì¤„ì—ˆì–´.',false,true,timestamp with time zone '2026-03-01 11:41:00+09'),
('ì²´í—˜ìš©','7','3','ìµëª…ì¸ë°, ì§ˆë¬¸ì„ ì˜ ë°›ì•„ì£¼ëŠ” íƒœë„ê°€ ì¢‹ì•„ì„œ í† ë¡ ì´ í¸í–ˆì–´.',true,true,timestamp with time zone '2026-03-01 11:49:00+09'),
('ì²´í—˜ìš©','8','12','ë‹¤ìŒì— ì˜ì–´ ë¬¸ì¥ ë§Œë“¤ê¸° ê°™ì´ ì—°ìŠµí•´ì¤„ ìˆ˜ ìˆì–´?',false,false,timestamp with time zone '2026-03-01 11:56:00+09'),
('ì²´í—˜ìš©','9','4','ìµëª…ìœ¼ë¡œ ë‚¨ê²¨! ì‹¤í—˜ ë„êµ¬ ì •ë¦¬í•´ì¤˜ì„œ ì¤€ë¹„ê°€ ë¹¨ëì–´.',true,true,timestamp with time zone '2026-03-01 12:04:00+09'),
('ì²´í—˜ìš©','10','14','ë„¤ê°€ ì•Œë ¤ì¤€ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ ë°œí‘œ ì¤€ë¹„ê°€ í›¨ì”¬ ì‰¬ì›Œì¡Œì–´.',false,true,timestamp with time zone '2026-03-01 12:12:00+09'),
('ì²´í—˜ìš©','11','5','ìµëª… ìš”ì²­! ìˆ˜í•™ ë‹¨ì›í‰ê°€ ì „ì— ë¬¸ì œ í’€ì´ í•œ ë²ˆ ë´ì¤„ ìˆ˜ ìˆì„ê¹Œ?',true,false,timestamp with time zone '2026-03-01 12:20:00+09');

commit;

-- --------------------------------------------
-- ê²€ì¦ ì¿¼ë¦¬ (í•„ìš” ì‹œ ë³„ë„ ì‹¤í–‰)
-- --------------------------------------------
-- select count(*) from public.daily_reflections where class_code='ì²´í—˜ìš©';               -- 52
-- select count(*) from public.project_reflections where class_code='ì²´í—˜ìš©';             -- 12
-- select count(*) from public.student_personality where class_code='ì²´í—˜ìš©';             -- 16
-- select count(*) from public.teacher_messages where class_code='ì²´í—˜ìš©';                -- 16
-- select count(*) from public.praise_messages where class_code='ì²´í—˜ìš©';                 -- 28
-- select count(*) from public.student_goals where class_code='ì²´í—˜ìš©';                   -- 33
-- select count(*) from public.daily_reflections
--  where class_code='ì²´í—˜ìš©'
--    and learning_text like '%ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©:%'
--    and learning_text like '%ë‚´ê°€ ì˜í•œ ì :%'
--    and learning_text like '%ì–´ë ¤ì› ë˜ ì :%'
--    and learning_text like '%ì´í•´/í•´ê²° ë°©ë²•:%'
--    and learning_text like '%ì•„ì§ í—·ê°ˆë¦¬ëŠ” ì :%'
--    and learning_text like '%ì¼ìƒì— ì ìš©í•´ë³¼ ì :%';
-- select count(*) from public.project_reflections
--  where class_code='ì²´í—˜ìš©'
--    and comment like '%ğŸ¤” ì•„ì‰¬ìš´ ì /ì–´ë ¤ì› ë˜ ì :%'
--    and comment like '%ğŸ‘ ì˜ëœ ì :%'
--    and comment like '%ğŸ’ª ë‹¤ìŒ ë„ì „:%'
--    and comment like '%ì¸ìƒì ì¸ ìˆœê°„/ë°°ìš´ ì :%'
--    and comment like '%ğŸ¯ ë‹¤ìŒì„ ìœ„í•œ íŒ:%';
